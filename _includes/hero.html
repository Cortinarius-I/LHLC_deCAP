{% assign hero_video = page.hero.video | strip %}
<section class="hero" role="banner">
  <div class="hero-bg" id="hero-bg">
    {% if hero_video != "" %}
      <iframe
        src="{{ hero_video }}&modestbranding=1&showinfo=0&rel=0&disablekb=1&iv_load_policy=3&fs=0&playsinline=1"
        allow="autoplay; encrypted-media"
        tabindex="-1"
        aria-hidden="true"
        loading="eager"
        class="hero-video"></iframe>
    {% else %}
      {% for img in page.hero.bg_images %}
        <img
          src="https://drive.google.com/thumbnail?id={{ img.id }}&sz=w1600"
          alt=""
          loading="{% if forloop.first %}eager{% else %}lazy{% endif %}"
          {% if forloop.first %}class="active"{% endif %}>
      {% endfor %}
    {% endif %}
  </div>
  <div class="hero-overlay" aria-hidden="true"></div>
  <div class="hero-content">
    <h1>{{ page.hero.title }}</h1>
    <p class="hero-subtitle">{{ page.hero.subtitle }}</p>
    {% if page.hero.cta_text %}
    <a href="{{ page.hero.cta_link | default: '#main' | relative_url }}" class="btn btn-hero">{{ page.hero.cta_text }}</a>
    {% endif %}
  </div>
</section>

<script>
(function() {
  var bg = document.getElementById('hero-bg');
  if (!bg) return;
  var imgs = bg.querySelectorAll('img');
  if (imgs.length < 2) return;
  var cur = 0;
  setInterval(function() {
    imgs[cur].classList.remove('active');
    cur = (cur + 1) % imgs.length;
    imgs[cur].classList.add('active');
  }, 6000);
})();
</script>
